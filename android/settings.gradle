// Expo integration:
pluginManagement {
  includeBuild("../node_modules/@react-native/gradle-plugin")
  includeBuild("../node_modules/expo-modules-autolinking/android/expo-gradle-plugin")
}
plugins {
  id("com.facebook.react.settings")
  id("expo-autolinking-settings")
}
extensions.configure(com.facebook.react.ReactSettingsExtension) {
  ex -> ex.autolinkLibrariesFromCommand(expoAutolinking.rnConfigCommand)
}

// React template code:
rootProject.name = 'co.edgesecure.app'
include ':app'
includeBuild('../node_modules/@react-native/gradle-plugin')

// Expo integration:
expoAutolinking.useExpoModules()
expoAutolinking.useExpoVersionCatalog()
includeBuild(expoAutolinking.reactNativeGradlePlugin)

// Hack around Android freeze:
includeBuild('../node_modules/react-native') {
  dependencySubstitution {
    substitute(module("com.facebook.react:react-android"))
      .using(project(":packages:react-native:ReactAndroid"))
    substitute(module("com.facebook.react:react-native"))
      .using(project(":packages:react-native:ReactAndroid"))
    substitute(module("com.facebook.react:hermes-android"))
      .using(project(":packages:react-native:ReactAndroid:hermes-engine"))
    substitute(module("com.facebook.react:hermes-engine"))
      .using(project(":packages:react-native:ReactAndroid:hermes-engine"))
  }
}
